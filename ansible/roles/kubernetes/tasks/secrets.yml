---
- name: Create Kubernetes secrets
  kubernetes.core.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Secret
      metadata:
        name: "{{ item.name }}"
        namespace: "{{ item.namespace }}"
      stringData: "{{ item.string_data }}"
  loop: "{{ kubernetes_secrets }}"
  delegate_to: "{{ groups['k8s_master'] | first }}"
  run_once: true
